<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=chrome">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zombie Killer Boom Boom</title>

    <script src = "phaser.js"></script>
    <script src = "Animation.js"></script>
    <script src = "RunningImages.js"></script>
    <script src = "PlayerMovement.js"></script>
    <script src = "Spells.js"></script>
    <script src = "manaStar.js"></script>
    <script src = "MainCharacter.js"></script>
    <script src = "Walkers.js"></script>
    <script src = "GameManagerFunctions.js"></script>
    <script src = "Interface.js"></script>
    <script src = "GameManager.js"></script>
    <script src = "Scenes.js"></script>
    <style type="text/css">
        body {
            margin: 0;
        }
    </style>
</head>
<body>
<script>
    var config = 
    {
        type: Phaser.AUTO,
        width: 800,
        height: 600,
        physics: {
            default: 'arcade',
            arcade: {
                //gravity: { y: 300 },
                debug: true
            }
        },
        scene:
        {
            preload: preload,
            create: create,
            update: update
        }
    };  
var game = new Phaser.Game(config);

let gameOver = false;

//characters
var player;
var zombies = [];

//Misc Stuff
var mana_Stars_In_Game = [];

//all the keys
let cursors;
let keyA;
let keyS;
let keyD;
let keyW;

//all the keys
let key1;
let key2;
let key3;
let key4;
let keyShift;

//Instantiating classes
let myGameManager = new GameManager();
let myMainMan = new MainMan();
let myInterface = new Interface();
let myManaStar = new manaStar();
let myScene_Play = new Scene_Play();

//global array that checks which spell is pressed. Used in many scripts
let spells_Pressed = [false,false,false,false];
let mySpells = new Spells();

//The interface objects
let manaBar;
let healthBar;
let roundBar;
let zombieBar;

//this is used for the round bar
let currentRound = 1;

//All the timers
let timedEvent;
let damagingPlayer;
let Healing_Over_Time;
let isTitle = false;

function preload ()
{
    //Loads the background
    preLoadAllStuff(this)
}

function init()
{
zombies = [];

//Misc Stuff
mana_Stars_In_Game = [];

//Instantiating classes
myGameManager = new GameManager();
myMainMan = new MainMan();
myInterface = new Interface();
myManaStar = new manaStar();

currentRound = 1;

//global array that checks which spell is pressed. Used in many scripts
spells_Pressed = [false,false,false,false];
mySpells = new Spells();

}

function create ()
{
    if (isTitle)
    {

    }
    else
    {
        myScene_Play.create_Scene(this);
    }
}

function update ()
{
    if(isTitle)
    {

    }
    else
    {
        myScene_Play.update_Scene(this)
    }
    
}
</script> 
</body>
</html>